!function(e){function t(e){function l(e,a,o){var r=null;if(u(a)&&(g(a),h(e),d(e),m(a),i>=2)){var l=y(a),c=0,f=v();"undefined"==typeof s[a.bars.order]&&(b(l)?s[a.bars.order]=-1*S(t,l-1,Math.floor(i/2)-1)-f:s[a.bars.order]=S(t,Math.ceil(i/2),l-2)+f+2*n),c=s[a.bars.order],r=k(o,a,c),o.points=r}return r}function u(e){return null!=e.bars&&e.bars.show&&null!=e.bars.order}function h(e){var t=r?e.getPlaceholder().innerHeight():e.getPlaceholder().innerWidth(),i=r?c(e.getData(),1):c(e.getData(),0),a=i[1]-i[0];o=a/t}function c(e,t){for(var i=new Array,a=0;a<e.length;a++)i[0]=e[a].data[0]?e[a].data[0][t]:null,i[1]=e[a].data[e[a].data.length-1]?e[a].data[e[a].data.length-1][t]:null;return i}function d(e){t=f(e.getData()),i=t.length}function f(e){for(var t=new Array,i=[],a=0;a<e.length;a++)null!=e[a].bars.order&&e[a].bars.show&&i.indexOf(e[a].bars.order)<0&&(i.push(e[a].bars.order),t.push(e[a]));return t.sort(p)}function p(e,t){var i=e.bars.order,a=t.bars.order;return a>i?-1:i>a?1:0}function m(e){a="undefined"!=typeof e.bars.lineWidth?e.bars.lineWidth:2,n=a*o}function g(e){e.bars.horizontal&&(r=!0)}function y(e){for(var i=0,a=0;a<t.length;++a)if(e==t[a]){i=a;break}return i+1}function v(){var e=0;return i%2!=0&&(e=t[Math.ceil(i/2)].bars.barWidth/2),e}function b(e){return e<=Math.ceil(i/2)}function S(e,t,i){for(var a=0,o=t;i>=o;o++)a+=e[o].bars.barWidth+2*n;return a}function k(e,t,i){for(var a=e.pointsize,n=e.points,o=0,s=r?1:0;s<n.length;s+=a)n[s]+=i,t.data[o][3]=n[s],o++;return n}var t,i,a,n,o=1,r=!1,s={};e.hooks.processDatapoints.push(l)}var i={series:{bars:{order:null}}};e.plot.plugins.push({init:t,options:i,name:"orderBars",version:"0.2"})}(jQuery);