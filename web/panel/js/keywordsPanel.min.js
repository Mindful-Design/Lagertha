!function(){function t(e){var t,i="",a="";try{t=JSON.parse(e.data)}catch(n){return}if(panelHasQuery(t)){if(panelCheckQuery(t,"keywords_keywords")){if(0===t.results.length)return void $("#keywordsList").html("<i>No Keywords are Defined</i>");i='<table class="table table-hover table-striped">';for(idx in t.results)a=t.results[idx].key,i+="<tr >    <td>"+(a.length>15?a.substring(0,15)+"..":a)+'</td>    <td>        <form role="form" lpformnum="9" onkeypress="return event.keyCode != 13"><div class="form-group form-group-table"><div class="input-group">            <input type="text" class="form-control"  id="inlineKeywordEdit_'+a.replace(/[^a-z1-9]/gi,"_")+'"                   value="'+t.results[idx].value+'" /><span class="input-group-btn">              <button  type="button" class="btn btn-default btn-fill  btn-xs" id="deleteKeyword_'+a.replace(/[^a-z1-9]/gi,"_")+'" onclick="$.deleteKeyword(\''+a.replace(/\'/g,"S__S__S").replace(/"/g,"S___S___S").replace(/\s/g,"S____S____S")+'\')"><i class="fa fa-trash" /> </button>              <button  type="button" class="btn btn-default btn-fill  btn-xs" onclick="$.updateKeyword(\''+a.replace(/\'/g,"S__S__S").replace(/"/g,"S___S___S").replace(/\s/g,"S____S____S")+'\')"><i class="fa fa-pencil" /> </button> </span></div></div>             </form>        </form>    </td></tr>';i+="</table>",$("#keywordsList").html(i),handleInputFocus()}if(panelCheckQuery(t,"keywords_cooldown")){if(0===t.results.length)return void $("#keywordsCooldownList").html("<i>No Keywords cooldown Defined</i>");i='<table class="table table-hover table-striped">';for(idx in t.results)key=t.results[idx].key,time=t.results[idx].value,i+="<tr ><td>"+(key.length>15?key.substring(0,15)+"..":key)+'</td><td><form role="form" onkeypress="return event.keyCode != 13"><div class="form-group form-group-table"><div class="input-group">            <input type="text" class="form-control" id="editCooldown_'+key.replace(/[^a-z1-9]/gi,"_")+'"                   value="'+time+'" /><span class="input-group-btn">              <button  type="button" class="btn btn-default btn-fill  btn-xs" id="deleteCooldown_'+key.replace(/[^a-z1-9]/gi,"_")+'" onclick="$.deleteKeyCooldown(\''+key.replace(/\'/g,"S__S__S").replace(/"/g,"S___S___S").replace(/\s/g,"S____S____S")+'\')"><i class="fa fa-trash" /> </button>              <button  type="button" class="btn btn-default btn-fill  btn-xs" onclick="$.editKeyCooldown(\''+key.replace(/\'/g,"S__S__S").replace(/"/g,"S___S___S").replace(/\s/g,"S____S____S")+'\')"><i class="fa fa-pencil" /> </button> </span></div></div></form></form></td></tr>';i+="</table>",$("#keywordsCooldownList").html(i)}if(panelCheckQuery(t,"keywords_price")){if(0===t.results.length)return void $("#keywordsPriceList").html("<i>No Keywords prices Defined</i>");i='<table class="table table-hover table-striped">';for(idx in t.results)key=t.results[idx].key,time=t.results[idx].value,i+="<tr >    <td>"+(key.length>15?key.substring(0,15)+"..":key)+'</td>    <td><form onkeypress="return event.keyCode != 13"><div class="form-group form-group-table"><div class="input-group">            <input type="text" class="form-control" id="editKeyPrice_'+key.replace(/[^a-z1-9]/gi,"_")+'"                   value="'+time+'" /><span class="input-group-btn"><button  type="button" class="btn btn-default btn-fill  btn-xs" id="deleteKeyPrice_'+key.replace(/[^a-z1-9]/gi,"_")+'" onclick="$.deleteKeyPrice(\''+key.replace(/\'/g,"S__S__S").replace(/"/g,"S___S___S").replace(/\s/g,"S____S____S")+'\')"><i class="fa fa-trash" /> </button><button  type="button" class="btn btn-default btn-fill  btn-xs" onclick="$.updateKeyPrice(\''+key.replace(/\'/g,"S__S__S").replace(/"/g,"S___S___S").replace(/\s/g,"S____S____S")+'\')"><i class="fa fa-pencil" /> </button> </span></div></div></form></form></td></tr>';i+="</table>",$("#keywordsPriceList").html(i)}}}function i(){sendDBKeys("keywords_keywords","keywords"),sendDBKeys("keywords_cooldown","coolkey"),sendDBKeys("keywords_price","pricekey")}function a(){var e=$("#addKeywordInput").val(),t=$("#addKeywordResponseInput").val();e.length>0&&t.length>0&&($("#addKeywordInput").val("Submitting..."),$("#addKeywordResponseInput").val(""),sendDBUpdate("keywords_addkeyword","keywords",e,t),setTimeout(function(){$("#addKeywordInput").val(""),$("#addKeywordResponseInput").val(""),i()},TIMEOUT_WAIT_TIME))}function n(t){t=t.replace(/S__S__S/g,"'").replace(/S___S___S/g,'"').replace(/S____S____S/g," "),$("#deleteKeyword_"+t.replace(/[^a-z1-9]/gi,"_")).html(e),sendDBDelete("keywords_delkeyword","keywords",t),sendDBDelete("keywords_delkeyword","coolkey",t),sendDBDelete("keywords_delkeyword","pricekey",t),setTimeout(function(){i()},TIMEOUT_WAIT_TIME)}function o(e){e=e.replace(/S__S__S/g,"'").replace(/S___S___S/g,'"').replace(/S____S____S/g," ");var t=$("#inlineKeywordEdit_"+e.replace(/[^a-z1-9]/gi,"_")).val();t.length>0&&(sendDBUpdate("keywords_editkeyword","keywords",e,t),setTimeout(function(){i()},TIMEOUT_WAIT_TIME))}function r(e){e=e.replace(/S__S__S/g,"'").replace(/S___S___S/g,'"').replace(/S____S____S/g," ");var t=$("#editCooldown_"+e.replace(/[^a-z1-9]/gi,"_")).val();t>0&&(sendDBUpdate("keyword_cooldown_edit","coolkey",e.toLowerCase(),t),setTimeout(function(){i()},2*TIMEOUT_WAIT_TIME))}function s(e){e=e.replace(/S__S__S/g,"'").replace(/S___S___S/g,'"').replace(/S____S____S/g," "),$("#deleteCooldown_"+e.replace(/[^a-z1-9]/gi,"_")).html('<i  class="fa fa-spinner fa-spin" />'),sendDBDelete("keyword_cooldown_delete","coolkey",e),setTimeout(function(){i()},TIMEOUT_WAIT_TIME)}function l(){var e=$("#cooldownKeyInput").val(),t=$("#cooldownKeyInputCommand").val();e.length>0&&0!=t.length&&(sendDBUpdate("keyword_cooldown_add","coolkey",String(t.toLowerCase()),String(e)),$("#cooldownKeyInput").val("Submitted"),$("#cooldownKeyInputCommand").val("Submitted"),setTimeout(function(){i()},TIMEOUT_WAIT_TIME),setTimeout(function(){$("#cooldownKeyInputCommand").val(""),$("#cooldownKeyInput").val("")},TIMEOUT_WAIT_TIME))}function u(){var e=$("#priceKeyInput").val(),t=$("#priceKeyInputKey").val();0!=e&&0!=t.length&&(sendDBUpdate("keywordprice","pricekey",t.toLowerCase(),e),$("#priceKeyInput").val(""),$("#priceKeyInputKey").val(""),setTimeout(function(){i()},TIMEOUT_WAIT_TIME))}function h(e){e=e.replace(/S__S__S/g,"'").replace(/S___S___S/g,'"').replace(/S____S____S/g," ");var t=$("#editKeyPrice_"+e.replace(/[^a-z1-9]/gi,"_")).val();$("#editKeyPrice_"+e.replace(/[^a-z1-9]/gi,"_")).html('<i  class="fa fa-spinner fa-spin" />'),t>0&&(sendDBUpdate("keyword_editprice_"+e,"pricekey",e.toLowerCase(),t),setTimeout(function(){i()},TIMEOUT_WAIT_TIME))}function c(e){e=e.replace(/S__S__S/g,"'").replace(/S___S___S/g,'"').replace(/S____S____S/g," "),$("#deleteKeyPrice_"+e.replace(/[^a-z1-9]/gi,"_")).html('<i  class="fa fa-spinner fa-spin" />'),sendDBDelete("keyword_delcomprice_"+e,"pricekey",e),setTimeout(function(){i()},TIMEOUT_WAIT_TIME)}var e='<i  class="fa fa-spinner fa-spin" />';$("#keywordsPanel").load("/panel/keywords.html");var d=setInterval(function(){if(isConnected&&TABS_INITIALIZED){var e=$("#tabs").tabs("option","active");10==e&&(i(),clearInterval(d))}},INITIAL_WAIT_TIME);setInterval(function(){var e=$("#tabs").tabs("option","active");10==e&&isConnected&&!isInputFocus()&&(newPanelAlert("Refreshing Keyword Data","success",1e3),i())},3e4),$.keywordsOnMessage=t,$.keywordsDoQuery=i,$.addKeywordnew=a,$.deleteKeyword=n,$.updateKeyword=o,$.addKeyCooldown=l,$.deleteKeyCooldown=s,$.editKeyCooldown=r,$.setKeyPrice=u,$.updateKeyPrice=h,$.deleteKeyPrice=c}();