!function(){function a(e){var a,o="",r="";try{a=JSON.parse(e.data)}catch(i){return}if(panelHasQuery(a)){if(panelCheckQuery(a,"keywords_keywords")){if(0===a.results.length)return void $("#keywordsList").html("<i>No Keywords are Defined</i>");o='<table class="table table-hover table-striped">';for(idx in a.results)r=a.results[idx].key,o+="<tr >    <td>"+(r.length>15?r.substring(0,15)+"..":r)+'</td>    <td>        <form role="form" lpformnum="9" onkeypress="return event.keyCode != 13"><div class="form-group form-group-table"><div class="input-group">            <input type="text" class="form-control"  id="inlineKeywordEdit_'+r.replace(/[^a-z1-9]/gi,"_")+'"                   value="'+a.results[idx].value+'" /><span class="input-group-btn">              <button  type="button" class="btn btn-default btn-fill  btn-xs" id="deleteKeyword_'+r.replace(/[^a-z1-9]/gi,"_")+'" onclick="$.deleteKeyword(\''+r.replace(/\'/g,"S__S__S").replace(/"/g,"S___S___S").replace(/\\/g,"\\\\")+'\')"><i class="fa fa-trash" /> </button>              <button  type="button" class="btn btn-default btn-fill  btn-xs" onclick="$.updateKeyword(\''+r.replace(/\'/g,"S__S__S").replace(/"/g,"S___S___S").replace(/\s/g,"S____S____S")+'\')"><i class="fa fa-pencil" /> </button> </span></div></div>             </form>        </form>    </td></tr>';o+="</table>",$("#keywordsList").html(o),handleInputFocus()}if(panelCheckQuery(a,"keywords_cooldown")){if(0===a.results.length)return void $("#keywordsCooldownList").html("<i>No Keywords cooldown Defined</i>");o='<table class="table table-hover table-striped">';for(idx in a.results)key=a.results[idx].key,time=a.results[idx].value,o+="<tr ><td>"+(key.length>15?key.substring(0,15)+"..":key)+'</td><td><form role="form" onkeypress="return event.keyCode != 13"><div class="form-group form-group-table"><div class="input-group">            <input type="text" class="form-control" id="editCooldown_'+key.replace(/[^a-z1-9]/gi,"_")+'"                   value="'+time+'" /><span class="input-group-btn">              <button  type="button" class="btn btn-default btn-fill  btn-xs" id="deleteCooldown_'+key.replace(/[^a-z1-9]/gi,"_")+'" onclick="$.deleteKeyCooldown(\''+key.replace(/\'/g,"S__S__S").replace(/"/g,"S___S___S").replace(/\\/g,"\\\\")+'\')"><i class="fa fa-trash" /> </button>              <button  type="button" class="btn btn-default btn-fill  btn-xs" onclick="$.editKeyCooldown(\''+key.replace(/\'/g,"S__S__S").replace(/"/g,"S___S___S").replace(/\s/g,"S____S____S")+'\')"><i class="fa fa-pencil" /> </button> </span></div></div></form></form></td></tr>';o+="</table>",$("#keywordsCooldownList").html(o)}if(panelCheckQuery(a,"keywords_price")){if(0===a.results.length)return void $("#keywordsPriceList").html("<i>No Keywords prices Defined</i>");o='<table class="table table-hover table-striped">';for(idx in a.results)key=a.results[idx].key,time=a.results[idx].value,o+="<tr >    <td>"+(key.length>15?key.substring(0,15)+"..":key)+'</td>    <td><form onkeypress="return event.keyCode != 13"><div class="form-group form-group-table"><div class="input-group">            <input type="text" class="form-control" id="editKeyPrice_'+key.replace(/[^a-z1-9]/gi,"_")+'"                   value="'+time+'" /><span class="input-group-btn"><button  type="button" class="btn btn-default btn-fill  btn-xs" id="deleteKeyPrice_'+key.replace(/[^a-z1-9]/gi,"_")+'" onclick="$.deleteKeyPrice(\''+key.replace(/\'/g,"S__S__S").replace(/"/g,"S___S___S").replace(/\\/g,"\\\\")+'\')"><i class="fa fa-trash" /> </button><button  type="button" class="btn btn-default btn-fill  btn-xs" onclick="$.updateKeyPrice(\''+key.replace(/\'/g,"S__S__S").replace(/"/g,"S___S___S").replace(/\s/g,"S____S____S")+'\')"><i class="fa fa-pencil" /> </button> </span></div></div></form></form></td></tr>';o+="</table>",$("#keywordsPriceList").html(o)}}}function o(){sendDBKeys("keywords_keywords","keywords"),sendDBKeys("keywords_cooldown","coolkey"),sendDBKeys("keywords_price","pricekey")}function r(){var e=$("#addKeywordInput").val(),a=$("#addKeywordResponseInput").val();e.length>0&&a.length>0&&($("#addKeywordInput").val("Submitting..."),$("#addKeywordResponseInput").val(""),sendDBUpdate("keywords_addkeyword","keywords",e,a),setTimeout(function(){$("#addKeywordInput").val(""),$("#addKeywordResponseInput").val(""),o()},TIMEOUT_WAIT_TIME))}function i(a){a=a.replace(/S__S__S/g,"'").replace(/S___S___S/g,'"').replace(/S____S____S/g," "),$("#deleteKeyword_"+a.replace(/[^a-z1-9]/gi,"_")).html(e),sendDBDelete("keywords_delkeyword","keywords",a),sendDBDelete("keywords_delkeyword","coolkey",a),sendDBDelete("keywords_delkeyword","pricekey",a),setTimeout(function(){o()},TIMEOUT_WAIT_TIME)}function n(e){e=e.replace(/S__S__S/g,"'").replace(/S___S___S/g,'"').replace(/S____S____S/g," ");var a=$("#inlineKeywordEdit_"+e.replace(/[^a-z1-9]/gi,"_")).val();a.length>0&&(sendDBUpdate("keywords_editkeyword","keywords",e,a),setTimeout(function(){o()},TIMEOUT_WAIT_TIME))}function t(e){e=e.replace(/S__S__S/g,"'").replace(/S___S___S/g,'"').replace(/S____S____S/g," ");var a=$("#editCooldown_"+e.replace(/[^a-z1-9]/gi,"_")).val();a>0&&(sendDBUpdate("keyword_cooldown_edit","coolkey",e.toLowerCase(),a),setTimeout(function(){o()},2*TIMEOUT_WAIT_TIME))}function s(e){e=e.replace(/S__S__S/g,"'").replace(/S___S___S/g,'"').replace(/S____S____S/g," "),$("#deleteCooldown_"+e.replace(/[^a-z1-9]/gi,"_")).html('<i  class="fa fa-spinner fa-spin" />'),sendDBDelete("keyword_cooldown_delete","coolkey",e),setTimeout(function(){o()},TIMEOUT_WAIT_TIME)}function l(){var e=$("#cooldownKeyInput").val(),a=$("#cooldownKeyInputCommand").val();e.length>0&&0!=a.length&&(sendDBUpdate("keyword_cooldown_add","coolkey",String(a.toLowerCase()),String(e)),$("#cooldownKeyInput").val("Submitted"),$("#cooldownKeyInputCommand").val("Submitted"),setTimeout(function(){o()},TIMEOUT_WAIT_TIME),setTimeout(function(){$("#cooldownKeyInputCommand").val(""),$("#cooldownKeyInput").val("")},TIMEOUT_WAIT_TIME))}function u(){var e=$("#priceKeyInput").val(),a=$("#priceKeyInputKey").val();0!=e&&0!=a.length&&(sendDBUpdate("keywordprice","pricekey",a.toLowerCase(),e),$("#priceKeyInput").val(""),$("#priceKeyInputKey").val(""),setTimeout(function(){o()},TIMEOUT_WAIT_TIME))}function h(e){e=e.replace(/S__S__S/g,"'").replace(/S___S___S/g,'"').replace(/S____S____S/g," ");var a=$("#editKeyPrice_"+e.replace(/[^a-z1-9]/gi,"_")).val();$("#editKeyPrice_"+e.replace(/[^a-z1-9]/gi,"_")).html('<i  class="fa fa-spinner fa-spin" />'),a>0&&(sendDBUpdate("keyword_editprice_"+e,"pricekey",e.toLowerCase(),a),setTimeout(function(){o()},TIMEOUT_WAIT_TIME))}function d(e){e=e.replace(/S__S__S/g,"'").replace(/S___S___S/g,'"').replace(/S____S____S/g," "),$("#deleteKeyPrice_"+e.replace(/[^a-z1-9]/gi,"_")).html('<i  class="fa fa-spinner fa-spin" />'),sendDBDelete("keyword_delcomprice_"+e,"pricekey",e),setTimeout(function(){o()},TIMEOUT_WAIT_TIME)}var e='<i  class="fa fa-spinner fa-spin" />';$("#keywordsPanel").load("/panel/keywords.html");var c=setInterval(function(){if(isConnected&&TABS_INITIALIZED){var e=$("#tabs").tabs("option","active");10==e&&(o(),clearInterval(c))}},INITIAL_WAIT_TIME);setInterval(function(){var e=$("#tabs").tabs("option","active");10==e&&isConnected&&!isInputFocus()&&(newPanelAlert("Refreshing Keyword Data","success",1e3),o())},3e4),$.keywordsOnMessage=a,$.keywordsDoQuery=o,$.addKeywordnew=r,$.deleteKeyword=i,$.updateKeyword=n,$.addKeyCooldown=l,$.deleteKeyCooldown=s,$.editKeyCooldown=t,$.setKeyPrice=u,$.updateKeyPrice=h,$.deleteKeyPrice=d}();