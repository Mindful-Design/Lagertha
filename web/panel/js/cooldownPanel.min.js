!function(){function t(t){var i;try{i=JSON.parse(t.data)}catch(n){return}if(panelHasQuery(i)){var a="",o="",s="",r="",l="",u="",h="",c=!1;if(panelCheckQuery(i,"cooldown_cooldowns")){h="<table class='table table-hover table-striped'>";for(idx in i.results)a=i.results[idx].key,o=i.results[idx].value,panelMatch(a,"globalCooldown")?s=i.results[idx].value:panelMatch(a,"globalCooldownTime")?r=i.results[idx].value:panelMatch(a,"modCooldown")?u=i.results[idx].value:panelMatch(a,"perUserCooldown")?l=i.results[idx].value:(c=!0,h+='<tr >    <td>        <div id="deleteCooldown_'+a+'" class="button"              onclick="$.deleteCooldown(\''+a+'\')"><i class="fa fa-trash" />    </td>    <td>'+a+"</td>    <td>"+o+"</td></tr>");h+="</table>",c||(h="<i>No entries in cooldown table.</i>"),$("#cooldownList").html(h),$("#toggleGlobalCooldown").html(e[s]),$("#togglePerUserCooldown").html(e[l]),$("#toggleModCooldown").html(e[u])}}}function i(){sendDBKeys("cooldown_cooldowns","cooldown")}function n(){$("#toggleGlobalCooldown").html('<i class="fa fa-spinner fa-spin spinMain" />'),sendCommand("toggleglobalcooldown"),setTimeout(function(){i()},500)}function a(){$("#toggleModCooldown").html('<i  class="fa fa-spinner fa-spin spinMain" />'),sendCommand("togglemodcooldown"),setTimeout(function(){i()},500)}function o(){$("#togglePerUserCooldown").html('<i  class="fa fa-spinner fa-spin spinMain" />'),sendCommand("toggleperusercooldown"),setTimeout(function(){i()},500)}function s(){var e=$("#globalCooldownTimeInput").val();e.length>0&&(sendCommand("globalcooldowntime "+e),$("#globalCooldownTimeInput").val(""),$("#globalCooldownTimeInput").attr("placeholder",e).blur())}function r(e){$("#deleteCooldown_"+e).html('<i  class="fa fa-spinner fa-spin" />'),sendCommand("cooldown "+e+" -1"),setTimeout(function(){i()},500)}function l(){var e=$("#cooldownCmdInput").val();e.length>0&&(sendCommand("cooldown "+e),$("#cooldownCmdInput").val("Submitted"),setTimeout(function(){$("#cooldownCmdInput").val(""),i()},1e3))}var e=[];e["false"]='<i class="fa fa-circle-o" />',e["true"]='<i class="fa fa-circle text-success" />',$("#cooldownPanel").load("/panel/cooldown.html");var u=setInterval(function(){var e=$("#tabs").tabs("option","active");7==e&&isConnected&&(i(),clearInterval(u))},200);setInterval(function(){var e=$("#tabs").tabs("option","active");7==e&&isConnected&&!isInputFocus()&&(newPanelAlert("Refreshing Cooldown Data","success",1e3),i())},3e4),$.cooldownOnMessage=t,$.cooldownDoQuery=i,$.addCooldown=l,$.deleteCooldown=r,$.toggleGlobalCooldown=n,$.toggleModCooldown=a,$.togglePerUserCooldown=o,$.setGlobalCooldownTime=s}();