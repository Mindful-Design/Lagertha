!function(){function t(t){var n;try{n=JSON.parse(t.data)}catch(o){return}if(panelHasQuery(n)){var a="",s="",i="",l="",d="",r="",c="",m=!1;if(panelCheckQuery(n,"cooldown_cooldowns")){c="<table class='table table-hover table-striped'>";for(idx in n.results)a=n.results[idx].key,s=n.results[idx].value,panelMatch(a,"globalCooldown")?i=n.results[idx].value:panelMatch(a,"globalCooldownTime")?l=n.results[idx].value:panelMatch(a,"modCooldown")?r=n.results[idx].value:panelMatch(a,"perUserCooldown")?d=n.results[idx].value:(m=!0,c+='<tr >    <td>        <div id="deleteCooldown_'+a+'" class="button"              onclick="$.deleteCooldown(\''+a+'\')"><i class="fa fa-trash" />    </td>    <td>'+a+"</td>    <td>"+s+"</td></tr>");c+="</table>",m||(c="<i>No entries in cooldown table.</i>"),$("#cooldownList").html(c),$("#toggleGlobalCooldown").html(e[i]),$("#togglePerUserCooldown").html(e[d]),$("#toggleModCooldown").html(e[r])}}}function n(){sendDBKeys("cooldown_cooldowns","cooldown")}function o(){$("#toggleGlobalCooldown").html('<i class="fa fa-spinner fa-spin spinMain" />'),sendCommand("toggleglobalcooldown"),setTimeout(function(){n()},500)}function a(){$("#toggleModCooldown").html('<i  class="fa fa-spinner fa-spin spinMain" />'),sendCommand("togglemodcooldown"),setTimeout(function(){n()},500)}function s(){$("#togglePerUserCooldown").html('<i  class="fa fa-spinner fa-spin spinMain" />'),sendCommand("toggleperusercooldown"),setTimeout(function(){n()},500)}function i(){var e=$("#globalCooldownTimeInput").val();e.length>0&&(sendCommand("globalcooldowntime "+e),$("#globalCooldownTimeInput").val(""),$("#globalCooldownTimeInput").attr("placeholder",e).blur())}function l(e){$("#deleteCooldown_"+e).html('<i  class="fa fa-spinner fa-spin" />'),sendCommand("cooldown "+e+" -1"),setTimeout(function(){n()},500)}function d(){var e=$("#cooldownCmdInput").val();e.length>0&&(sendCommand("cooldown "+e),$("#cooldownCmdInput").val("Submitted"),setTimeout(function(){$("#cooldownCmdInput").val(""),n()},1e3))}var e=[];e["false"]='<i class="fa fa-circle text-warning" />',e["true"]='<i class="fa fa-circle text-success" />',$("#cooldownPanel").load("/panel/cooldown.html");var r=setInterval(function(){var e=$("#tabs").tabs("option","active");7==e&&isConnected&&(n(),clearInterval(r))},200);setInterval(function(){var e=$("#tabs").tabs("option","active");7==e&&isConnected&&!isInputFocus()&&(newPanelAlert("Refreshing Cooldown Data","success",1e3),n())},3e4),$.cooldownOnMessage=t,$.cooldownDoQuery=n,$.addCooldown=d,$.deleteCooldown=l,$.toggleGlobalCooldown=o,$.toggleModCooldown=a,$.togglePerUserCooldown=s,$.setGlobalCooldownTime=i}();