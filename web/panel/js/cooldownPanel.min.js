!function(){function t(t){var i;try{i=JSON.parse(t.data)}catch(s){return}if(panelHasQuery(i)){var n="",r="",o="",a="",l="",u="",h="",c=!1;if(panelCheckQuery(i,"cooldown_cooldowns")){h="<table class='table table-hover table-striped'>";for(idx in i.results)n=i.results[idx].key,r=i.results[idx].value,panelMatch(n,"globalCooldown")?o=i.results[idx].value:panelMatch(n,"globalCooldownTime")?a=i.results[idx].value:panelMatch(n,"modCooldown")?u=i.results[idx].value:panelMatch(n,"perUserCooldown")?l=i.results[idx].value:(c=!0,h+='<tr >    <td>        <div id="deleteCooldown_'+n+'" class="button"              onclick="$.deleteCooldown(\''+n+'\')"><i class="fa fa-trash" />    </td>    <td>'+n+"</td>    <td>"+r+"</td></tr>");h+="</table>",c||(h="<i>No entries in cooldown table.</i>"),$("#cooldownList").html(h),$("#toggleGlobalCooldown").html(e[o]),$("#togglePerUserCooldown").html(e[l]),$("#toggleModCooldown").html(e[u])}}}function i(){sendDBKeys("cooldown_cooldowns","cooldown")}function s(){$("#toggleGlobalCooldown").html('<i class="fa fa-spinner fa-spin spinMain" />'),sendCommand("toggleglobalcooldown"),setTimeout(function(){i()},500)}function n(){$("#toggleModCooldown").html('<i  class="fa fa-spinner fa-spin spinMain" />'),sendCommand("togglemodcooldown"),setTimeout(function(){i()},500)}function r(){$("#togglePerUserCooldown").html('<i  class="fa fa-spinner fa-spin spinMain" />'),sendCommand("toggleperusercooldown"),setTimeout(function(){i()},500)}function o(){var e=$("#globalCooldownTimeInput").val();e.length>0&&(sendCommand("globalcooldowntime "+e),$("#globalCooldownTimeInput").val(""),$("#globalCooldownTimeInput").attr("placeholder",e).blur())}function a(e){$("#deleteCooldown_"+e).html('<i  class="fa fa-spinner fa-spin" />'),sendCommand("cooldown "+e+" -1"),setTimeout(function(){i()},500)}function l(){var e=$("#cooldownCmdInput").val();e.length>0&&(sendCommand("cooldown "+e),$("#cooldownCmdInput").val("Submitted"),setTimeout(function(){$("#cooldownCmdInput").val(""),i()},1e3))}var e=[];e["false"]='<i class="fa fa-circle text-warning" />',e["true"]='<i class="fa fa-circle text-success" />',$("#cooldownPanel").load("/panel/cooldown.html");var u=setInterval(function(){var e=$("#tabs").tabs("option","active");7==e&&isConnected&&(i(),clearInterval(u))},200);setInterval(function(){var e=$("#tabs").tabs("option","active");7==e&&isConnected&&!isInputFocus()&&(newPanelAlert("Refreshing Cooldown Data","success",1e3),i())},3e4),$.cooldownOnMessage=t,$.cooldownDoQuery=i,$.addCooldown=l,$.deleteCooldown=a,$.toggleGlobalCooldown=s,$.toggleModCooldown=n,$.togglePerUserCooldown=r,$.setGlobalCooldownTime=o}();