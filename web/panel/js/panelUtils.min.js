function debugMsg(e){DEBUG_MODE&&console.log("WebPanel::DEBUG::"+e)}function logMsg(e){console.log("WebPanel::"+e)}function newPanelAlert(e,n,s){debugMsg("newPanelAlert("+e+", "+n+", "+s+")"),$(document).ready(function(){$.notify({message:e},{type:n,icon:"pe-7s-bell",placement:{align:"center"}})})}function requestVersion(e){var n={};n.version=e,connection.send(JSON.stringify(n))}function sendCommand(e,n){var s={};s.command=e,n&&(s.username=n),connection.send(JSON.stringify(s))}function sendDBQuery(e,n,s){jsonObject={},jsonObject.dbquery=e,jsonObject.query={table:n,key:s},connection.send(JSON.stringify(jsonObject))}function sendDBKeys(e,n){jsonObject={},jsonObject.dbkeys=e,jsonObject.query={table:n},connection.send(JSON.stringify(jsonObject))}function sendDBKeysList(e,n){jsonObject={},jsonObject.dbkeyslist=e,jsonObject.query=[];for(i in n)jsonObject.query.push({table:n[i]});connection.send(JSON.stringify(jsonObject))}function sendDBUpdate(e,n,s,t){jsonObject={},jsonObject.dbupdate=e,jsonObject.update={table:n,key:s,value:t},connection.send(JSON.stringify(jsonObject))}function sendDBIncr(e,n,s,t){jsonObject={},jsonObject.dbincr=e,jsonObject.incr={table:n,key:s,value:t},connection.send(JSON.stringify(jsonObject))}function sendDBDecr(e,n,s,t){jsonObject={},jsonObject.dbdecr=e,jsonObject.decr={table:n,key:s,value:t},connection.send(JSON.stringify(jsonObject))}function sendDBDelete(e,n,s){jsonObject={},jsonObject.dbdelkey=e,jsonObject.delkey={table:n,key:s},connection.send(JSON.stringify(jsonObject))}function sendWSEvent(e,n,s,t){jsonObject={},jsonObject.socket_event=e,jsonObject.script=n,jsonObject.args={arguments:s?s:"",args:t?t:[]},connection.send(JSON.stringify(jsonObject))}function panelStrcmp(e,n){return e==n?0:e>n?1:-1}function panelMatch(e,n){return 0===panelStrcmp(e,n)}function panelIsDefined(e){return void 0!==e}function panelHasQuery(e){return panelIsDefined(e.query_id)}function panelCheckQuery(e,n){return panelMatch(e.query_id,n)}function hideLoadingImage(){setTimeout(function(){$("#iframeLoader").hide(),$("#chat").fadeIn(1e3)},500)}function handleInputFocus(){$(':input[type="number"]').focusin(function(){setInputFocus(!0)}),$(':input[type="number"]').focusout(function(){setInputFocus(!1)}),$(':input[type="text"]').focusin(function(){setInputFocus(!0)}),$(':input[type="text"]').focusout(function(){setInputFocus(!1)})}function setInputFocus(e){inputFieldInFocus=e}function isInputFocus(){return inputFieldInFocus}function performCurrentPanelRefresh(){var e=$("#tabs").tabs("option","active");switch(e){case 0:newPanelAlert("Refreshing Data","success",1e3),$.dashboardDoQuery();break;case 1:newPanelAlert("Refreshing Data","success",1e3),$.commandsDoQuery();break;case 2:newPanelAlert("Refreshing Data","success",1e3),$.donationsDoQuery();break;case 3:newPanelAlert("Refreshing Data","success",1e3),$.pointsDoQuery();break;case 4:newPanelAlert("Refreshing Data","success",1e3),$.ranksDoQuery();break;case 5:newPanelAlert("Refreshing Data","success",1e3),$.timeDoQuery();break;case 6:newPanelAlert("Refreshing Data","success",1e3),$.moderationDoQuery();break;case 7:newPanelAlert("Refreshing Data","success",1e3),$.viewersDoQuery();break;case 8:newPanelAlert("Refreshing Data","success",1e3),$.greetingsDoQuery();break;case 9:newPanelAlert("Refreshing Data","success",1e3),$.audioDoQuery();break;case 10:newPanelAlert("Refreshing Data","success",1e3),$.keywordsDoQuery();break;case 11:newPanelAlert("Refreshing Data","success",1e3),$.noticesDoQuery();break;case 12:newPanelAlert("Refreshing Data","success",1e3),$.quotesDoQuery();break;case 13:newPanelAlert("Refreshing Data","success",1e3),$.gamesDoQuery();break;case 14:newPanelAlert("Refreshing Data","success",1e3),$.gamblingDoQuery();break;case 15:newPanelAlert("Refreshing Data","success",1e3),$.hostraidDoQuery();break;case 16:newPanelAlert("Refreshing Data","success",1e3),$.pollDoQuery();break;case 17:newPanelAlert("Refreshing Data","success",1e3),$.queueDoQuery();break;case 18:newPanelAlert("Refreshing Data","success",1e3),$.discordDoQuery();break;case 19:newPanelAlert("Refreshing Data","success",1e3),$.twitterDoQuery()}}var DEBUG_MODE=!1,PANEL_VERSION="1.1",TABS_INITIALIZED=!1,INITIAL_WAIT_TIME=200,TIMEOUT_WAIT_TIME=500,YOUTUBE_IFRAME=!1,url=window.location.host.split(":"),addr=("https://"==getProtocol()?"wss://":"ws://")+url[0]+":"+getPanelPort(),connection=new ReconnectingWebSocket(addr,null,{reconnectInterval:5e3}),isConnected=!1,panelStatsEnabled=!1,inputFieldInFocus=!1;connection.onopen=function(e){var n={};debugMsg("connection.onopen()"),n.authenticate=getAuth(),connection.send(JSON.stringify(n)),isConnected=!0,$(document).ready(function(){$.notify({message:"Connecting to WebSocket"},{type:"warning",icon:"pe-7s-bell",placement:{align:"center"}})})},connection.onclose=function(e){debugMsg("connection.onclose()"),isConnected=!1,$(document).ready(function(){$.notify({message:"<strong>WebSocket Disconnected</strong> - Retrying Connection Every 5 Seconds"},{type:"danger",icon:"pe-7s-bell",placement:{align:"center"}})})},connection.onmessage=function(e){try{var n=JSON.parse(e.data)}catch(n){return void logMsg("connection.onmessage: badJson("+e.data+"): "+n.message)}if(debugMsg("connection.onmessage("+e.data+")"),0!=n.authresult)e.data.indexOf("global_")!==-1&&$.globalOnMessage(e),e.data.indexOf("dashboard_")!==-1&&$.dashboardOnMessage(e),e.data.indexOf("modules_")!==-1&&$.modulesOnMessage(e),e.data.indexOf("commands_")!==-1&&$.commandsOnMessage(e),e.data.indexOf("moderation_")!==-1&&$.moderationOnMessage(e),e.data.indexOf("time_")!==-1&&$.timeOnMessage(e),e.data.indexOf("points_")!==-1&&$.pointsOnMessage(e),e.data.indexOf("viewers_")!==-1&&$.viewersOnMessage(e),e.data.indexOf("ranks_")!==-1&&$.ranksOnMessage(e),e.data.indexOf("greetings_")!==-1&&$.greetingsOnMessage(e),e.data.indexOf("donations_")!==-1&&$.donationsOnMessage(e),e.data.indexOf("hostraid_")!==-1&&$.hostraidOnMessage(e),e.data.indexOf("notices_")!==-1&&$.noticesOnMessage(e),e.data.indexOf("quotes_")!==-1&&$.quotesOnMessage(e),e.data.indexOf("keywords_")!==-1&&$.keywordsOnMessage(e),e.data.indexOf("poll_")!==-1&&$.pollOnMessage(e),e.data.indexOf("gambling_")!==-1&&$.gamblingOnMessage(e),e.data.indexOf("games_")!==-1&&$.gamesOnMessage(e),e.data.indexOf("queue_")!==-1&&$.queueOnMessage(e),e.data.indexOf("twitter_")!==-1&&$.twitterOnMessage(e),e.data.indexOf("discord_")!==-1&&$.discordOnMessage(e),e.data.indexOf("audio_")!==-1&&$.audioOnMessage(e),e.data.indexOf("help_")!==-1&&$.helpOnMessage(e);else if(!n.authresult)return isConnected=!1,void newPanelAlert("Authorization Failed! Check Configuration File","danger",0)};