function debugMsg(e){DEBUG_MODE&&console.log("WebPanel::DEBUG::"+e)}function logMsg(e){console.log("WebPanel::"+e)}function newPanelAlert(e,t,i){debugMsg("newPanelAlert("+e+", "+t+", "+i+")"),$(document).ready(function(){$.notify({message:e},{type:t,icon:"pe-7s-bell",placement:{align:"center"}})})}function requestVersion(e){var t={};t.version=e,connection.send(JSON.stringify(t))}function sendCommand(e,t){var i={};i.command=e,t&&(i.username=t),connection.send(JSON.stringify(i))}function sendDBQuery(e,t,i){jsonObject={},jsonObject.dbquery=e,jsonObject.query={table:t,key:i},connection.send(JSON.stringify(jsonObject))}function sendDBKeys(e,t){jsonObject={},jsonObject.dbkeys=e,jsonObject.query={table:t},connection.send(JSON.stringify(jsonObject))}function sendDBKeysList(e,t){jsonObject={},jsonObject.dbkeyslist=e,jsonObject.query=[];for(i in t)jsonObject.query.push({table:t[i]});connection.send(JSON.stringify(jsonObject))}function sendDBUpdate(e,t,i,a){jsonObject={},jsonObject.dbupdate=e,jsonObject.update={table:t,key:i,value:a},connection.send(JSON.stringify(jsonObject))}function sendDBIncr(e,t,i,a){jsonObject={},jsonObject.dbincr=e,jsonObject.incr={table:t,key:i,value:a},connection.send(JSON.stringify(jsonObject))}function sendDBDecr(e,t,i,a){jsonObject={},jsonObject.dbdecr=e,jsonObject.decr={table:t,key:i,value:a},connection.send(JSON.stringify(jsonObject))}function sendDBDelete(e,t,i){jsonObject={},jsonObject.dbdelkey=e,jsonObject.delkey={table:t,key:i},connection.send(JSON.stringify(jsonObject))}function sendWSEvent(e,t,i,a){jsonObject={},jsonObject.socket_event=e,jsonObject.script=t,jsonObject.args={arguments:i?i:"",args:a?a:[]},connection.send(JSON.stringify(jsonObject))}function panelStrcmp(e,t){return e==t?0:e>t?1:-1}function panelMatch(e,t){return 0===panelStrcmp(e,t)}function panelIsDefined(e){return void 0!==e}function panelHasQuery(e){return panelIsDefined(e.query_id)}function panelCheckQuery(e,t){return panelMatch(e.query_id,t)}function hideLoadingImage(){setTimeout(function(){$("#iframeLoader").hide(),$("#chat").fadeIn(1e3)},500)}function handleInputFocus(){$(':input[type="number"]').focusin(function(){setInputFocus(!0)}),$(':input[type="number"]').focusout(function(){setInputFocus(!1)}),$(':input[type="text"]').focusin(function(){setInputFocus(!0)}),$(':input[type="text"]').focusout(function(){setInputFocus(!1)})}function setInputFocus(e){inputFieldInFocus=e}function isInputFocus(){return inputFieldInFocus}function performCurrentPanelRefresh(){var e=$("#tabs").tabs("option","active");switch(e){case 0:newPanelAlert("Refreshing Data","success",1e3),$.dashboardDoQuery();break;case 1:newPanelAlert("Refreshing Data","success",1e3),$.commandsDoQuery();break;case 2:newPanelAlert("Refreshing Data","success",1e3),$.donationsDoQuery();break;case 3:newPanelAlert("Refreshing Data","success",1e3),$.pointsDoQuery();break;case 4:newPanelAlert("Refreshing Data","success",1e3),$.ranksDoQuery();break;case 5:newPanelAlert("Refreshing Data","success",1e3),$.timeDoQuery();break;case 6:newPanelAlert("Refreshing Data","success",1e3),$.moderationDoQuery();break;case 7:newPanelAlert("Refreshing Data","success",1e3),$.viewersDoQuery();break;case 8:newPanelAlert("Refreshing Data","success",1e3),$.greetingsDoQuery();break;case 9:newPanelAlert("Refreshing Data","success",1e3),$.audioDoQuery();break;case 10:newPanelAlert("Refreshing Data","success",1e3),$.keywordsDoQuery();break;case 11:newPanelAlert("Refreshing Data","success",1e3),$.noticesDoQuery();break;case 12:newPanelAlert("Refreshing Data","success",1e3),$.quotesDoQuery();break;case 13:newPanelAlert("Refreshing Data","success",1e3),$.gamesDoQuery();break;case 14:newPanelAlert("Refreshing Data","success",1e3),$.gamblingDoQuery();break;case 15:newPanelAlert("Refreshing Data","success",1e3),$.hostraidDoQuery();break;case 16:newPanelAlert("Refreshing Data","success",1e3),$.pollDoQuery();break;case 17:newPanelAlert("Refreshing Data","success",1e3),$.queueDoQuery();break;case 18:newPanelAlert("Refreshing Data","success",1e3),$.discordDoQuery();break;case 19:newPanelAlert("Refreshing Data","success",1e3),$.twitterDoQuery()}}var DEBUG_MODE=!1,PANEL_VERSION="1.1",TABS_INITIALIZED=!1,INITIAL_WAIT_TIME=200,TIMEOUT_WAIT_TIME=500,YOUTUBE_IFRAME=!1,url=window.location.host.split(":"),addr=("https://"==getProtocol()?"wss://":"ws://")+url[0]+":"+getPanelPort(),connection=new ReconnectingWebSocket(addr,null,{reconnectInterval:5e3}),isConnected=!1,panelStatsEnabled=!1,inputFieldInFocus=!1;connection.onopen=function(e){var t={};debugMsg("connection.onopen()"),t.authenticate=getAuth(),connection.send(JSON.stringify(t)),isConnected=!0,$(document).ready(function(){$.notify({message:"Connecting to WebSocket"},{type:"warning",icon:"pe-7s-bell",placement:{align:"center"}})})},connection.onclose=function(e){debugMsg("connection.onclose()"),isConnected=!1,$(document).ready(function(){$.notify({message:"<strong>WebSocket Disconnected</strong> - Retrying Connection Every 5 Seconds"},{type:"danger",icon:"pe-7s-bell",placement:{align:"center"}})})},connection.onmessage=function(e){try{var t=JSON.parse(e.data)}catch(i){return void logMsg("connection.onmessage: badJson("+e.data+"): "+i.message)}if(debugMsg("connection.onmessage("+e.data+")"),0!=t.authresult)-1!==e.data.indexOf("global_")&&$.globalOnMessage(e),-1!==e.data.indexOf("dashboard_")&&$.dashboardOnMessage(e),-1!==e.data.indexOf("modules_")&&$.modulesOnMessage(e),-1!==e.data.indexOf("commands_")&&$.commandsOnMessage(e),-1!==e.data.indexOf("donations_")&&$.donationsOnMessage(e),-1!==e.data.indexOf("points_")&&$.pointsOnMessage(e),-1!==e.data.indexOf("ranks_")&&$.ranksOnMessage(e),-1!==e.data.indexOf("time_")&&$.timeOnMessage(e),-1!==e.data.indexOf("moderation_")&&$.moderationOnMessage(e),-1!==e.data.indexOf("viewers_")&&$.viewersOnMessage(e),-1!==e.data.indexOf("greetings_")&&$.greetingsOnMessage(e),-1!==e.data.indexOf("audio_")&&$.audioOnMessage(e),-1!==e.data.indexOf("keywords_")&&$.keywordsOnMessage(e),-1!==e.data.indexOf("notices_")&&$.noticesOnMessage(e),-1!==e.data.indexOf("quotes_")&&$.quotesOnMessage(e),-1!==e.data.indexOf("games_")&&$.gamesOnMessage(e),-1!==e.data.indexOf("gambling_")&&$.gamblingOnMessage(e),-1!==e.data.indexOf("hostraid_")&&$.hostraidOnMessage(e),-1!==e.data.indexOf("poll_")&&$.pollOnMessage(e),-1!==e.data.indexOf("queue_")&&$.queueOnMessage(e),-1!==e.data.indexOf("discord_")&&$.discordOnMessage(e),-1!==e.data.indexOf("twitter_")&&$.twitterOnMessage(e),-1!==e.data.indexOf("help_")&&$.helpOnMessage(e);else if(!t.authresult)return isConnected=!1,void newPanelAlert("Authorization Failed! Check Configuration File","danger",0)};