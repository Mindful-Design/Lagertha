!function(){function t(t){var i;try{i=JSON.parse(t.data)}catch(u){return}if(panelHasQuery(i)&&panelCheckQuery(i,"donations_donations")){var h='<table class="table table-hover table-striped">',c=[];for(idx in i.results)isNaN(i.results[idx].key)||(c[idx]=[],c[idx].key=i.results[idx].key,c[idx].value=i.results[idx].value);if(0===c.length)return h="<i>No Data in Donations Table</i>",void $("#donationsTable").html(h);panelMatch(e,"time_asc")&&c.sort(a),panelMatch(e,"time_desc")&&c.sort(r),panelMatch(e,"amount_asc")&&c.sort(o),panelMatch(e,"amount_desc")&&c.sort(l),panelMatch(e,"alpha_asc")&&c.sort(s),panelMatch(e,"alpha_desc")&&c.sort(n);for(idx in c)isNaN(c[idx].key)||(donationObj=JSON.parse(c[idx].value),void 0!==donationObj.currency||void 0!==donationObj.name?h+="<tr >    <td>"+donationObj.name+"</td>    <td>"+$.format.date(1e3*parseInt(donationObj.created_at),"MM.dd.yy hh:mm:ss")+"</td>    <td>"+donationObj.currency+" "+parseInt(donationObj.amount).toFixed(2)+"</td></tr>":void 0!==donationObj.parameters.username&&void 0!==donationObj.parameters.currency&&(h+="<tr >    <td>"+donationObj.parameters.username+"</td>    <td>"+$.format.date(new Date(donationObj.created_at),"MM.dd.yy hh:mm:ss")+"</td>    <td>"+donationObj.parameters.currency+" "+parseInt(donationObj.parameters.amount).toFixed(2)+"</td></tr>"));$("#donationsTable").html(h)}}function i(t){e=t,u()}function s(e,t){var i=JSON.parse(e.value),s=JSON.parse(t.value);return panelStrcmp(i.name,s.name)}function n(e,t){var i=JSON.parse(e.value),s=JSON.parse(t.value);return panelStrcmp(s.name,i.name)}function a(e,t){var i=JSON.parse(e.value),s=JSON.parse(t.value);return parseInt(i.created_at)-parseInt(s.created_at)}function r(e,t){var i=JSON.parse(e.value),s=JSON.parse(t.value);return parseInt(s.created_at)-parseInt(i.created_at)}function o(e,t){var i=JSON.parse(e.value),s=JSON.parse(t.value);return parseInt(i.amount)-parseInt(s.amount)}function l(e,t){var i=JSON.parse(e.value),s=JSON.parse(t.value);return parseInt(s.amount)-parseInt(i.amount)}function u(){sendDBKeys("donations_donations","donations")}var e="alpha_asc";$("#donationsPanel").load("/panel/donations.html");var h=setInterval(function(){if(isConnected&&TABS_INITIALIZED){var e=$("#tabs").tabs("option","active");8==e&&(u(),clearInterval(h))}},INITIAL_WAIT_TIME);setInterval(function(){var e=$("#tabs").tabs("option","active");8==e&&isConnected&&!isInputFocus()&&(newPanelAlert("Refreshing Donations Data","success",1e3),u())},3e4),$.donationsOnMessage=t,$.donationsDoQuery=u,$.setDonationSort=i}();