!function(){function t(t){var n;try{n=JSON.parse(t.data)}catch(d){return}if(panelHasQuery(n)&&panelCheckQuery(n,"donations_donations")){var c='<table class="table table-hover table-striped">',u=[];for(idx in n.results)isNaN(n.results[idx].key)||(u[idx]=[],u[idx].key=n.results[idx].key,u[idx].value=n.results[idx].value);if(0===u.length)return c="<i>No Data in Donations Table</i>",void $("#donationsTable").html(c);panelMatch(e,"time_asc")&&u.sort(o),panelMatch(e,"time_desc")&&u.sort(i),panelMatch(e,"amount_asc")&&u.sort(r),panelMatch(e,"amount_desc")&&u.sort(l),panelMatch(e,"alpha_asc")&&u.sort(a),panelMatch(e,"alpha_desc")&&u.sort(s);for(idx in u)isNaN(u[idx].key)||(donationObj=JSON.parse(u[idx].value),void 0!==donationObj.currency||void 0!==donationObj.name?c+="<tr >    <td>"+donationObj.name+"</td>    <td>"+$.format.date(1e3*parseInt(donationObj.created_at),"MM.dd.yy hh:mm:ss")+"</td>    <td>"+donationObj.currency+" "+parseInt(donationObj.amount).toFixed(2)+"</td></tr>":void 0!==donationObj.parameters.username&&void 0!==donationObj.parameters.currency&&(c+="<tr >    <td>"+donationObj.parameters.username+"</td>    <td>"+$.format.date(new Date(donationObj.created_at),"MM.dd.yy hh:mm:ss")+"</td>    <td>"+donationObj.parameters.currency+" "+parseInt(donationObj.parameters.amount).toFixed(2)+"</td></tr>"));$("#donationsTable").html(c)}}function n(t){e=t,d()}function a(e,t){var n=JSON.parse(e.value),a=JSON.parse(t.value);return panelStrcmp(n.name,a.name)}function s(e,t){var n=JSON.parse(e.value),a=JSON.parse(t.value);return panelStrcmp(a.name,n.name)}function o(e,t){var n=JSON.parse(e.value),a=JSON.parse(t.value);return parseInt(n.created_at)-parseInt(a.created_at)}function i(e,t){var n=JSON.parse(e.value),a=JSON.parse(t.value);return parseInt(a.created_at)-parseInt(n.created_at)}function r(e,t){var n=JSON.parse(e.value),a=JSON.parse(t.value);return parseInt(n.amount)-parseInt(a.amount)}function l(e,t){var n=JSON.parse(e.value),a=JSON.parse(t.value);return parseInt(a.amount)-parseInt(n.amount)}function d(){sendDBKeys("donations_donations","donations")}var e="alpha_asc";$("#donationsPanel").load("/panel/donations.html");var c=setInterval(function(){if(isConnected&&TABS_INITIALIZED){var e=$("#tabs").tabs("option","active");8==e&&(d(),clearInterval(c))}},INITIAL_WAIT_TIME);setInterval(function(){var e=$("#tabs").tabs("option","active");8==e&&isConnected&&!isInputFocus()&&(newPanelAlert("Refreshing Donations Data","success",1e3),d())},3e4),$.donationsOnMessage=t,$.donationsDoQuery=d,$.setDonationSort=n}();