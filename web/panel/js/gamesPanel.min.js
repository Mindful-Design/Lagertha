!function(){function a(a){var n=JSON.parse(a.data);try{n=JSON.parse(a.data)}catch(o){return}if(panelHasQuery(n)){if(panelCheckQuery(n,"games_roulette")&&$("#rouletteTimeoutInput").attr("placeholder",n.results.timeoutTime),panelCheckQuery(n,"games_adventure"))for(idx in n.results)"warningMessage"==n.results[idx].key&&$("#adventure"+n.results[idx].key).html(e[n.results[idx].value]),"enterMessage"==n.results[idx].key&&$("#adventure"+n.results[idx].key).html(e[n.results[idx].value]),$("#adventure"+n.results[idx].key+"Input").attr("placeholder",n.results[idx].value);if(panelCheckQuery(n,"games_slotmachine"))for(idx in n.results)$("#slotRewards"+idx+"Input").val(n.results[idx].value);if(panelCheckQuery(n,"games_slotmachineemotes"))for(idx in n.results)$("#slotEmotes"+idx+"Input").val(n.results[idx].value);if(panelCheckQuery(n,"games_rollprizes"))for(idx in n.results)$("#rollRewards"+idx+"Input").val(n.results[idx].value);if(panelCheckQuery(n,"games_gambling_range")&&$("#gamblingWinRange").val(n.results.winRange),panelCheckQuery(n,"games_gambling_percent")&&$("#gamblingWinPercent").val(n.results.winGainPercent),panelCheckQuery(n,"games_gambling_max")&&$("#gamblingMax").val(n.results.max),panelCheckQuery(n,"games_gambling_min")&&$("#gamblingMin").val(n.results.min),panelCheckQuery(n,"games_betting"))for(idx in n.results)if("gain"==n.results[idx].key&&$("#gainPercent").val(n.results[idx].value),"format"==n.results[idx].key&&$("#dateFormat").val(n.results[idx].value),"save"==n.results[idx].key&&($("#toggleSaveBets").html(e[n.results[idx].value]),t=n.results[idx].value),"warningMessages"==n.results[idx].key&&($("#toggleWarningMessages").html(e[n.results[idx].value]),i=n.results[idx].value),"lastBet"==n.results[idx].key){var r=n.results[idx].value.split("___");$("#betResults").html("<strong>Results from Last Bet</strong><br> Winner(s): "+r[0]+"<br> Amount Won: "+r[1])}else $("#betResults").html("<strong>Results from Last Bet: </strong><br> Winner(s): 0 <br> Amount Won: 0 points")}}function n(){sendDBQuery("games_roulette","roulette","timeoutTime"),sendDBKeys("games_adventure","adventureSettings"),sendDBKeys("games_slotmachine","slotmachine"),sendDBKeys("games_betting","bettingSettings"),sendDBKeys("games_slotmachineemotes","slotmachineemotes"),sendDBKeys("games_rollprizes","rollprizes"),sendDBQuery("games_gambling_range","gambling","winRange"),sendDBQuery("games_gambling_percent","gambling","winGainPercent"),sendDBQuery("games_gambling_max","gambling","max"),sendDBQuery("games_gambling_min","gambling","min")}function o(){var e=$("#betTitle").val(),t=$("#betOptions").val(),i=$("#minBet").val(),a=$("#maxBet").val(),n=$("#bet-timer").val();sendCommand('bet open "'+e+'" "'+t+'" '+i+" "+a+" "+n),$("#betTitle").val(""),$("#betOptions").val(""),$("#minBet").val(""),$("#maxBet").val(""),$("#bet-timer").val(""),document.getElementById("bet-timer").value=0}function r(){$("#tempclose").is(":checked")===!0?(document.getElementById("betCloseI").disabled=!0,document.getElementById("betCloseI").title="You cannot chose a winning option and turn entries off at the same time."):(document.getElementById("betCloseI").disabled=!1,document.getElementById("betCloseI").title="")}function s(){$("#tempclose").is(":checked")===!0?sendCommand("bet close"):sendCommand("bet close "+$("#betCloseI").val()),$("#betCloseI").val(""),$("#tempclose").val("")}function l(){(0!=$("#dateFormat").val().length||0!=$("#gainPercent").val().length)&&(sendDBUpdate("bet_dateformat","bettingSettings","format",$("#dateFormat").val()),sendDBUpdate("bet_dateformat","bettingSettings","gain",$("#gainPercent").val())),setTimeout(function(){n()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("reloadbet")},TIMEOUT_WAIT_TIME)}function u(){$("#toggleSaveBets").html('<i  class="fa fa-spinner fa-spin" />'),"true"==t?(sendDBUpdate("bet_dateformat","bettingSettings","save","false"),t="false"):(sendDBUpdate("bet_dateformat","bettingSettings","save","true"),t="true"),setTimeout(function(){n()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("reloadbet")},TIMEOUT_WAIT_TIME)}function h(){$("#toggleWarningMessages").html('<i  class="fa fa-spinner fa-spin" />'),"true"==i?(sendDBUpdate("bet_dateformat","bettingSettings","warningMessages","false"),i="false"):(sendDBUpdate("bet_dateformat","bettingSettings","warningMessages","true"),i="true"),setTimeout(function(){n()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("reloadbet")},TIMEOUT_WAIT_TIME)}function c(){var e=$("#rollRewards0Input").val(),t=$("#rollRewards1Input").val(),i=$("#rollRewards2Input").val(),a=$("#rollRewards3Input").val(),o=$("#rollRewards4Input").val(),r=$("#rollRewards5Input").val();e.length>0&&t.length>0&&i.length>0&&a.length>0&&o.length>0&&r.length>0&&(sendDBUpdate("rollRewards0","rollprizes","prizes_0",e),sendDBUpdate("rollRewards1","rollprizes","prizes_1",t),sendDBUpdate("rollRewards2","rollprizes","prizes_2",i),sendDBUpdate("rollRewards3","rollprizes","prizes_3",a),sendDBUpdate("rollRewards4","rollprizes","prizes_4",o),sendDBUpdate("rollRewards5","rollprizes","prizes_5",r),setTimeout(function(){n()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("loadprizesroll")},TIMEOUT_WAIT_TIME))}function d(){var e=$("#slotRewards0Input").val(),t=$("#slotRewards1Input").val(),i=$("#slotRewards2Input").val(),a=$("#slotRewards3Input").val(),o=$("#slotRewards4Input").val();e.length>0&&t.length>0&&i.length>0&&a.length>0&&o.length>0&&(sendDBUpdate("slotRewards0","slotmachine","prizes_0",e),sendDBUpdate("slotRewards1","slotmachine","prizes_1",t),sendDBUpdate("slotRewards2","slotmachine","prizes_2",i),sendDBUpdate("slotRewards3","slotmachine","prizes_3",a),sendDBUpdate("slotRewards4","slotmachine","prizes_4",o),setTimeout(function(){n()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("loadprizes")},TIMEOUT_WAIT_TIME))}function f(){var e=$("#slotEmotes0Input").val(),t=$("#slotEmotes1Input").val(),i=$("#slotEmotes2Input").val(),a=$("#slotEmotes3Input").val(),o=$("#slotEmotes4Input").val();e.length>0&&t.length>0&&i.length>0&&a.length>0&&o.length>0&&(sendDBUpdate("slotEmotes0","slotmachineemotes","emote_0",e),sendDBUpdate("slotEmotes1","slotmachineemotes","emote_1",t),sendDBUpdate("slotEmotes2","slotmachineemotes","emote_2",i),sendDBUpdate("slotEmotes3","slotmachineemotes","emote_3",a),sendDBUpdate("slotEmotes4","slotmachineemotes","emote_4",o),setTimeout(function(){n()},TIMEOUT_WAIT_TIME))}function p(){var e=$("#rouletteTimeoutInput").val();e.length>0&&($("#rouletteTimeoutInput").val(e),sendDBUpdate("games_roulette","roulette","timeoutTime",e),setTimeout(function(){n()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("reloadroulette")},TIMEOUT_WAIT_TIME))}function m(){var e=$("#adventureStartInput").val();e.length>0&&($("#adventureStartInput").val(""),sendCommand("adventure "+e,getChannelName()))}function g(e,t){var i=$("#adventure"+e+"Input").val();return"warningMessage"==e?($("#adventure"+e).html('<i  class="fa fa-spinner fa-spin" />'),"true"==t?sendDBUpdate("games_adventure","adventureSettings",e,"true"):sendDBUpdate("games_adventure","adventureSettings",e,"false"),setTimeout(function(){n()},TIMEOUT_WAIT_TIME),void setTimeout(function(){sendCommand("reloadadventure")},TIMEOUT_WAIT_TIME)):"enterMessage"==e?($("#adventure"+e).html('<i  class="fa fa-spinner fa-spin" />'),"true"==t?sendDBUpdate("games_adventure","adventureSettings",e,"true"):sendDBUpdate("games_adventure","adventureSettings",e,"false"),setTimeout(function(){n()},TIMEOUT_WAIT_TIME),void setTimeout(function(){sendCommand("reloadadventure")},TIMEOUT_WAIT_TIME)):void(i.length>0&&("joinTime"==e&&sendDBUpdate("games_adventure","adventureSettings",e,i),"coolDown"==e&&sendDBUpdate("games_adventure","adventureSettings",e,i),"gainPercent"==e&&sendDBUpdate("games_adventure","adventureSettings",e,i),"minBet"==e&&sendDBUpdate("games_adventure","adventureSettings",e,i),"maxBet"==e&&sendDBUpdate("games_adventure","adventureSettings",e,i),setTimeout(function(){n()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("reloadadventure")},TIMEOUT_WAIT_TIME)))}function y(e){var t=$("#gambling"+e).val();0!=t.length&&("Max"==e&&sendDBUpdate("games_gambling_max","gambling","max",t),"Min"==e&&sendDBUpdate("games_gambling_min","gambling","min",t),"WinRange"==e&&100>=t&&sendDBUpdate("games_gambling_range","gambling","winRange",t),"WinPercent"==e&&100>=t&&sendDBUpdate("games_gambling_percent","gambling","winGainPercent",t)),setTimeout(function(){n(),sendCommand("reloadgamble")},TIMEOUT_WAIT_TIME)}var e=[],t=!1,i=!1;e["false"]='<i  class="fa fa-circle-o" />',e["true"]='<i  class="fa fa-circle text-success" />',$("#gamesPanel").load("/panel/games.html");var v=setInterval(function(){if(isConnected&&TABS_INITIALIZED){var e=$("#tabs").tabs("option","active");13==e&&(n(),clearInterval(v))}},INITIAL_WAIT_TIME);setInterval(function(){var e=$("#tabs").tabs("option","active");13==e&&isConnected&&!isInputFocus()&&(newPanelAlert("Refreshing Games Data","success",1e3),n())},3e4),$.gamesOnMessage=a,$.gamesDoQuery=n,$.rouletteTimeout=p,$.adventureStart=m,$.adventureUpdateSetting=g,$.setSlotRewards=d,$.setRollRewards=c,$.gambling=y,$.setSlotEmotes=f,$.toggleSaveBets=u,$.toggleInput=r,$.toggleWarningMessages=h,$.bet={open:o,close:s,update:l}}();