!function(){function r(r){var i=JSON.parse(r.data);try{i=JSON.parse(r.data)}catch(n){return}if(panelHasQuery(i)){if(panelCheckQuery(i,"games_roulette")&&$("#rouletteTimeoutInput").attr("placeholder",i.results.timeoutTime),panelCheckQuery(i,"games_adventure"))for(idx in i.results)"warningMessage"==i.results[idx].key&&$("#adventure"+i.results[idx].key).html(e[i.results[idx].value]),"enterMessage"==i.results[idx].key&&$("#adventure"+i.results[idx].key).html(e[i.results[idx].value]),$("#adventure"+i.results[idx].key+"Input").attr("placeholder",i.results[idx].value);if(panelCheckQuery(i,"games_slotmachine"))for(idx in i.results)$("#slotRewards"+idx+"Input").val(i.results[idx].value);if(panelCheckQuery(i,"games_slotmachineemotes"))for(idx in i.results)$("#slotEmotes"+idx+"Input").val(i.results[idx].value);if(panelCheckQuery(i,"games_rollprizes"))for(idx in i.results)$("#rollRewards"+idx+"Input").val(i.results[idx].value);if(panelCheckQuery(i,"games_gambling_range")&&$("#gamblingWinRange").val(i.results.winRange),panelCheckQuery(i,"games_gambling_percent")&&$("#gamblingWinPercent").val(i.results.winGainPercent),panelCheckQuery(i,"games_gambling_max")&&$("#gamblingMax").val(i.results.max),panelCheckQuery(i,"games_gambling_min")&&$("#gamblingMin").val(i.results.min),panelCheckQuery(i,"games_betting"))for(idx in i.results)if("gain"==i.results[idx].key&&$("#gainPercent").val(i.results[idx].value),"format"==i.results[idx].key&&$("#dateFormat").val(i.results[idx].value),"save"==i.results[idx].key&&($("#toggleSaveBets").html(e[i.results[idx].value]),a=i.results[idx].value),"warningMessages"==i.results[idx].key&&($("#toggleWarningMessages").html(e[i.results[idx].value]),o=i.results[idx].value),"lastBet"==i.results[idx].key){var t=i.results[idx].value.split("___");$("#betResults").html("<strong>Results from Last Bet</strong><br> Winner(s): "+t[0]+"<br> Amount Won: "+t[1])}else $("#betResults").html("<strong>Results from Last Bet: </strong><br> Winner(s): 0 <br> Amount Won: 0 points")}}function i(){sendDBQuery("games_roulette","roulette","timeoutTime"),sendDBKeys("games_adventure","adventureSettings"),sendDBKeys("games_slotmachine","slotmachine"),sendDBKeys("games_betting","bettingSettings"),sendDBKeys("games_slotmachineemotes","slotmachineemotes"),sendDBKeys("games_rollprizes","rollprizes"),sendDBQuery("games_gambling_range","gambling","winRange"),sendDBQuery("games_gambling_percent","gambling","winGainPercent"),sendDBQuery("games_gambling_max","gambling","max"),sendDBQuery("games_gambling_min","gambling","min")}function n(){var e=$("#betTitle").val(),a=$("#betOptions").val(),o=$("#minBet").val(),r=$("#maxBet").val(),i=$("#bet-timer").val();sendCommand('bet open "'+e+'" "'+a+'" '+o+" "+r+" "+i),$("#betTitle").val(""),$("#betOptions").val(""),$("#minBet").val(""),$("#maxBet").val(""),$("#bet-timer").val(""),document.getElementById("bet-timer").value=0}function t(){$("#tempclose").is(":checked")===!0?(document.getElementById("betCloseI").disabled=!0,document.getElementById("betCloseI").title="You cannot chose a winning option and turn entries off at the same time."):(document.getElementById("betCloseI").disabled=!1,document.getElementById("betCloseI").title="")}function s(){$("#tempclose").is(":checked")===!0?sendCommand("bet close"):sendCommand("bet close "+$("#betCloseI").val()),$("#betCloseI").val(""),$("#tempclose").val("")}function l(){(0!=$("#dateFormat").val().length||0!=$("#gainPercent").val().length)&&(sendDBUpdate("bet_dateformat","bettingSettings","format",$("#dateFormat").val()),sendDBUpdate("bet_dateformat","bettingSettings","gain",$("#gainPercent").val())),setTimeout(function(){i()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("reloadbet")},TIMEOUT_WAIT_TIME)}function u(){$("#toggleSaveBets").html('<i  class="fa fa-spinner fa-spin" />'),"true"==a?(sendDBUpdate("bet_dateformat","bettingSettings","save","false"),a="false"):(sendDBUpdate("bet_dateformat","bettingSettings","save","true"),a="true"),setTimeout(function(){i()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("reloadbet")},TIMEOUT_WAIT_TIME)}function h(){$("#toggleWarningMessages").html('<i  class="fa fa-spinner fa-spin" />'),"true"==o?(sendDBUpdate("bet_dateformat","bettingSettings","warningMessages","false"),o="false"):(sendDBUpdate("bet_dateformat","bettingSettings","warningMessages","true"),o="true"),setTimeout(function(){i()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("reloadbet")},TIMEOUT_WAIT_TIME)}function d(){var e=$("#rollRewards0Input").val(),a=$("#rollRewards1Input").val(),o=$("#rollRewards2Input").val(),r=$("#rollRewards3Input").val(),n=$("#rollRewards4Input").val(),t=$("#rollRewards5Input").val();e.length>0&&a.length>0&&o.length>0&&r.length>0&&n.length>0&&t.length>0&&(sendDBUpdate("rollRewards0","rollprizes","prizes_0",e),sendDBUpdate("rollRewards1","rollprizes","prizes_1",a),sendDBUpdate("rollRewards2","rollprizes","prizes_2",o),sendDBUpdate("rollRewards3","rollprizes","prizes_3",r),sendDBUpdate("rollRewards4","rollprizes","prizes_4",n),sendDBUpdate("rollRewards5","rollprizes","prizes_5",t),setTimeout(function(){i()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("loadprizesroll")},TIMEOUT_WAIT_TIME))}function c(){var e=$("#slotRewards0Input").val(),a=$("#slotRewards1Input").val(),o=$("#slotRewards2Input").val(),r=$("#slotRewards3Input").val(),n=$("#slotRewards4Input").val();e.length>0&&a.length>0&&o.length>0&&r.length>0&&n.length>0&&(sendDBUpdate("slotRewards0","slotmachine","prizes_0",e),sendDBUpdate("slotRewards1","slotmachine","prizes_1",a),sendDBUpdate("slotRewards2","slotmachine","prizes_2",o),sendDBUpdate("slotRewards3","slotmachine","prizes_3",r),sendDBUpdate("slotRewards4","slotmachine","prizes_4",n),setTimeout(function(){i()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("loadprizes")},TIMEOUT_WAIT_TIME))}function m(){var e=$("#slotEmotes0Input").val(),a=$("#slotEmotes1Input").val(),o=$("#slotEmotes2Input").val(),r=$("#slotEmotes3Input").val(),n=$("#slotEmotes4Input").val();e.length>0&&a.length>0&&o.length>0&&r.length>0&&n.length>0&&(sendDBUpdate("slotEmotes0","slotmachineemotes","emote_0",e),sendDBUpdate("slotEmotes1","slotmachineemotes","emote_1",a),sendDBUpdate("slotEmotes2","slotmachineemotes","emote_2",o),sendDBUpdate("slotEmotes3","slotmachineemotes","emote_3",r),sendDBUpdate("slotEmotes4","slotmachineemotes","emote_4",n),setTimeout(function(){i()},TIMEOUT_WAIT_TIME))}function S(){var e=$("#rouletteTimeoutInput").val();e.length>0&&($("#rouletteTimeoutInput").val(e),sendDBUpdate("games_roulette","roulette","timeoutTime",e),setTimeout(function(){i()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("reloadroulette")},TIMEOUT_WAIT_TIME))}function g(){var e=$("#adventureStartInput").val();e.length>0&&($("#adventureStartInput").val(""),sendCommand("adventure "+e,getChannelName()))}function y(e,a){var o=$("#adventure"+e+"Input").val();return"warningMessage"==e?($("#adventure"+e).html('<i  class="fa fa-spinner fa-spin" />'),"true"==a?sendDBUpdate("games_adventure","adventureSettings",e,"true"):sendDBUpdate("games_adventure","adventureSettings",e,"false"),setTimeout(function(){i()},TIMEOUT_WAIT_TIME),void setTimeout(function(){sendCommand("reloadadventure")},TIMEOUT_WAIT_TIME)):"enterMessage"==e?($("#adventure"+e).html('<i  class="fa fa-spinner fa-spin" />'),"true"==a?sendDBUpdate("games_adventure","adventureSettings",e,"true"):sendDBUpdate("games_adventure","adventureSettings",e,"false"),setTimeout(function(){i()},TIMEOUT_WAIT_TIME),void setTimeout(function(){sendCommand("reloadadventure")},TIMEOUT_WAIT_TIME)):void(o.length>0&&("joinTime"==e&&sendDBUpdate("games_adventure","adventureSettings",e,o),"coolDown"==e&&sendDBUpdate("games_adventure","adventureSettings",e,o),"gainPercent"==e&&sendDBUpdate("games_adventure","adventureSettings",e,o),"minBet"==e&&sendDBUpdate("games_adventure","adventureSettings",e,o),"maxBet"==e&&sendDBUpdate("games_adventure","adventureSettings",e,o),setTimeout(function(){i()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("reloadadventure")},TIMEOUT_WAIT_TIME)))}function T(e){var a=$("#gambling"+e).val();0!=a.length&&("Max"==e&&sendDBUpdate("games_gambling_max","gambling","max",a),"Min"==e&&sendDBUpdate("games_gambling_min","gambling","min",a),"WinRange"==e&&100>=a&&sendDBUpdate("games_gambling_range","gambling","winRange",a),"WinPercent"==e&&100>=a&&sendDBUpdate("games_gambling_percent","gambling","winGainPercent",a)),setTimeout(function(){i(),sendCommand("reloadgamble")},TIMEOUT_WAIT_TIME)}var e=[],a=!1,o=!1;e["false"]='<i  class="fa fa-circle text-warning" />',e["true"]='<i  class="fa fa-circle text-success" />',$("#gamesPanel").load("/panel/games.html");var k=setInterval(function(){if(isConnected&&TABS_INITIALIZED){var e=$("#tabs").tabs("option","active");13==e&&(i(),clearInterval(k))}},INITIAL_WAIT_TIME);setInterval(function(){var e=$("#tabs").tabs("option","active");13==e&&isConnected&&!isInputFocus()&&(newPanelAlert("Refreshing Games Data","success",1e3),i())},3e4),$.gamesOnMessage=r,$.gamesDoQuery=i,$.rouletteTimeout=S,$.adventureStart=g,$.adventureUpdateSetting=y,$.setSlotRewards=c,$.setRollRewards=d,$.gambling=T,$.setSlotEmotes=m,$.toggleSaveBets=u,$.toggleInput=t,$.toggleWarningMessages=h,$.bet={open:n,close:s,update:l}}();