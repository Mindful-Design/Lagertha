!function(){function i(i){var o=JSON.parse(i.data);try{o=JSON.parse(i.data)}catch(n){return}if(panelHasQuery(o)){if(panelCheckQuery(o,"games_roulette")&&$("#rouletteTimeoutInput").attr("placeholder",o.results.timeoutTime),panelCheckQuery(o,"games_adventure"))for(idx in o.results)"warningMessage"==o.results[idx].key&&$("#adventure"+o.results[idx].key).html(e[o.results[idx].value]),"enterMessage"==o.results[idx].key&&$("#adventure"+o.results[idx].key).html(e[o.results[idx].value]),$("#adventure"+o.results[idx].key+"Input").attr("placeholder",o.results[idx].value);if(panelCheckQuery(o,"games_slotmachine"))for(idx in o.results)$("#slotRewards"+idx+"Input").val(o.results[idx].value);if(panelCheckQuery(o,"games_slotmachineemotes"))for(idx in o.results)$("#slotEmotes"+idx+"Input").val(o.results[idx].value);if(panelCheckQuery(o,"games_rollprizes"))for(idx in o.results)$("#rollRewards"+idx+"Input").val(o.results[idx].value);if(panelCheckQuery(o,"games_gambling_range")&&$("#gamblingWinRange").val(o.results.winRange),panelCheckQuery(o,"games_gambling_percent")&&$("#gamblingWinPercent").val(o.results.winGainPercent),panelCheckQuery(o,"games_gambling_max")&&$("#gamblingMax").val(o.results.max),panelCheckQuery(o,"games_gambling_min")&&$("#gamblingMin").val(o.results.min),panelCheckQuery(o,"games_betting"))for(idx in o.results)if("gain"==o.results[idx].key&&$("#gainPercent").val(o.results[idx].value),"format"==o.results[idx].key&&$("#dateFormat").val(o.results[idx].value),"save"==o.results[idx].key&&($("#toggleSaveBets").html(e[o.results[idx].value]),t=o.results[idx].value),"warningMessages"==o.results[idx].key&&($("#toggleWarningMessages").html(e[o.results[idx].value]),a=o.results[idx].value),"lastBet"==o.results[idx].key){var r=o.results[idx].value.split("___");$("#betResults").html("<strong>Results from Last Bet</strong><br> Winner(s): "+r[0]+"<br> Amount Won: "+r[1])}else $("#betResults").html("<strong>Results from Last Bet: </strong><br> Winner(s): 0 <br> Amount Won: 0 points")}}function o(){sendDBQuery("games_roulette","roulette","timeoutTime"),sendDBKeys("games_adventure","adventureSettings"),sendDBKeys("games_slotmachine","slotmachine"),sendDBKeys("games_betting","bettingSettings"),sendDBKeys("games_slotmachineemotes","slotmachineemotes"),sendDBKeys("games_rollprizes","rollprizes"),sendDBQuery("games_gambling_range","gambling","winRange"),sendDBQuery("games_gambling_percent","gambling","winGainPercent"),sendDBQuery("games_gambling_max","gambling","max"),sendDBQuery("games_gambling_min","gambling","min")}function n(){var e=$("#betTitle").val(),t=$("#betOptions").val(),a=$("#minBet").val(),i=$("#maxBet").val(),o=$("#bet-timer").val();sendCommand('bet open "'+e+'" "'+t+'" '+a+" "+i+" "+o),$("#betTitle").val(""),$("#betOptions").val(""),$("#minBet").val(""),$("#maxBet").val(""),$("#bet-timer").val(""),document.getElementById("bet-timer").value=0}function r(){$("#tempclose").is(":checked")===!0?(document.getElementById("betCloseI").disabled=!0,document.getElementById("betCloseI").title="You cannot chose a winning option and turn entries off at the same time."):(document.getElementById("betCloseI").disabled=!1,document.getElementById("betCloseI").title="")}function s(){$("#tempclose").is(":checked")===!0?sendCommand("bet close"):sendCommand("bet close "+$("#betCloseI").val()),$("#betCloseI").val(""),$("#tempclose").val("")}function l(){(0!=$("#dateFormat").val().length||0!=$("#gainPercent").val().length)&&(sendDBUpdate("bet_dateformat","bettingSettings","format",$("#dateFormat").val()),sendDBUpdate("bet_dateformat","bettingSettings","gain",$("#gainPercent").val())),setTimeout(function(){o()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("reloadbet")},TIMEOUT_WAIT_TIME)}function u(){$("#toggleSaveBets").html('<i  class="fa fa-spinner fa-spin" />'),"true"==t?(sendDBUpdate("bet_dateformat","bettingSettings","save","false"),t="false"):(sendDBUpdate("bet_dateformat","bettingSettings","save","true"),t="true"),setTimeout(function(){o()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("reloadbet")},TIMEOUT_WAIT_TIME)}function h(){$("#toggleWarningMessages").html('<i  class="fa fa-spinner fa-spin" />'),"true"==a?(sendDBUpdate("bet_dateformat","bettingSettings","warningMessages","false"),a="false"):(sendDBUpdate("bet_dateformat","bettingSettings","warningMessages","true"),a="true"),setTimeout(function(){o()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("reloadbet")},TIMEOUT_WAIT_TIME)}function c(){var e=$("#rollRewards0Input").val(),t=$("#rollRewards1Input").val(),a=$("#rollRewards2Input").val(),i=$("#rollRewards3Input").val(),n=$("#rollRewards4Input").val(),r=$("#rollRewards5Input").val();e.length>0&&t.length>0&&a.length>0&&i.length>0&&n.length>0&&r.length>0&&(sendDBUpdate("rollRewards0","rollprizes","prizes_0",e),sendDBUpdate("rollRewards1","rollprizes","prizes_1",t),sendDBUpdate("rollRewards2","rollprizes","prizes_2",a),sendDBUpdate("rollRewards3","rollprizes","prizes_3",i),sendDBUpdate("rollRewards4","rollprizes","prizes_4",n),sendDBUpdate("rollRewards5","rollprizes","prizes_5",r),setTimeout(function(){o()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("loadprizesroll")},TIMEOUT_WAIT_TIME))}function d(){var e=$("#slotRewards0Input").val(),t=$("#slotRewards1Input").val(),a=$("#slotRewards2Input").val(),i=$("#slotRewards3Input").val(),n=$("#slotRewards4Input").val();e.length>0&&t.length>0&&a.length>0&&i.length>0&&n.length>0&&(sendDBUpdate("slotRewards0","slotmachine","prizes_0",e),sendDBUpdate("slotRewards1","slotmachine","prizes_1",t),sendDBUpdate("slotRewards2","slotmachine","prizes_2",a),sendDBUpdate("slotRewards3","slotmachine","prizes_3",i),sendDBUpdate("slotRewards4","slotmachine","prizes_4",n),setTimeout(function(){o()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("loadprizes")},TIMEOUT_WAIT_TIME))}function f(){var e=$("#slotEmotes0Input").val(),t=$("#slotEmotes1Input").val(),a=$("#slotEmotes2Input").val(),i=$("#slotEmotes3Input").val(),n=$("#slotEmotes4Input").val();e.length>0&&t.length>0&&a.length>0&&i.length>0&&n.length>0&&(sendDBUpdate("slotEmotes0","slotmachineemotes","emote_0",e),sendDBUpdate("slotEmotes1","slotmachineemotes","emote_1",t),sendDBUpdate("slotEmotes2","slotmachineemotes","emote_2",a),sendDBUpdate("slotEmotes3","slotmachineemotes","emote_3",i),sendDBUpdate("slotEmotes4","slotmachineemotes","emote_4",n),setTimeout(function(){o()},TIMEOUT_WAIT_TIME))}function m(){var e=$("#rouletteTimeoutInput").val();e.length>0&&($("#rouletteTimeoutInput").val(e),sendDBUpdate("games_roulette","roulette","timeoutTime",e),setTimeout(function(){o()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("reloadroulette")},TIMEOUT_WAIT_TIME))}function g(){var e=$("#adventureStartInput").val();e.length>0&&($("#adventureStartInput").val(""),sendCommand("adventure "+e,getChannelName()))}function p(e,t){var a=$("#adventure"+e+"Input").val();return"warningMessage"==e?($("#adventure"+e).html('<i  class="fa fa-spinner fa-spin" />'),"true"==t?sendDBUpdate("games_adventure","adventureSettings",e,"true"):sendDBUpdate("games_adventure","adventureSettings",e,"false"),setTimeout(function(){o()},TIMEOUT_WAIT_TIME),void setTimeout(function(){sendCommand("reloadadventure")},TIMEOUT_WAIT_TIME)):"enterMessage"==e?($("#adventure"+e).html('<i  class="fa fa-spinner fa-spin" />'),"true"==t?sendDBUpdate("games_adventure","adventureSettings",e,"true"):sendDBUpdate("games_adventure","adventureSettings",e,"false"),setTimeout(function(){o()},TIMEOUT_WAIT_TIME),void setTimeout(function(){sendCommand("reloadadventure")},TIMEOUT_WAIT_TIME)):void(a.length>0&&("joinTime"==e&&sendDBUpdate("games_adventure","adventureSettings",e,a),"coolDown"==e&&sendDBUpdate("games_adventure","adventureSettings",e,a),"gainPercent"==e&&sendDBUpdate("games_adventure","adventureSettings",e,a),"minBet"==e&&sendDBUpdate("games_adventure","adventureSettings",e,a),"maxBet"==e&&sendDBUpdate("games_adventure","adventureSettings",e,a),setTimeout(function(){o()},TIMEOUT_WAIT_TIME),setTimeout(function(){sendCommand("reloadadventure")},TIMEOUT_WAIT_TIME)))}function y(e){var t=$("#gambling"+e).val();0!=t.length&&("Max"==e&&sendDBUpdate("games_gambling_max","gambling","max",t),"Min"==e&&sendDBUpdate("games_gambling_min","gambling","min",t),"WinRange"==e&&100>=t&&sendDBUpdate("games_gambling_range","gambling","winRange",t),"WinPercent"==e&&100>=t&&sendDBUpdate("games_gambling_percent","gambling","winGainPercent",t)),setTimeout(function(){o(),sendCommand("reloadgamble")},TIMEOUT_WAIT_TIME)}var e=[],t=!1,a=!1;e["false"]='<i  class="fa fa-circle text-warning" />',e["true"]='<i  class="fa fa-circle text-success" />',$("#gamesPanel").load("/panel/games.html");var S=setInterval(function(){if(isConnected&&TABS_INITIALIZED){var e=$("#tabs").tabs("option","active");13==e&&(o(),clearInterval(S))}},INITIAL_WAIT_TIME);setInterval(function(){var e=$("#tabs").tabs("option","active");13==e&&isConnected&&!isInputFocus()&&(newPanelAlert("Refreshing Games Data","success",1e3),o())},3e4),$.gamesOnMessage=i,$.gamesDoQuery=o,$.rouletteTimeout=m,$.adventureStart=g,$.adventureUpdateSetting=p,$.setSlotRewards=d,$.setRollRewards=c,$.gambling=y,$.setSlotEmotes=f,$.toggleSaveBets=u,$.toggleInput=r,$.toggleWarningMessages=h,$.bet={open:n,close:s,update:l}}();